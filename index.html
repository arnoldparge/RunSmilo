<!DOCTYPE html>
<html>
<head>
    <title>Multiplayer sample</title>
    <!--<script src="/canvasengine-X.Y.Z.all.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.1/socket.io.js"></script>

    
</head>
<body>
    <canvas id="ctx" width="500" height="500" style="border:1px solid black"></canvas>
    <script>
        //var canvas = CE.defines("canvas").
        //    ready(function () {
        //        canvas.Scene.call("MyScene");
        //    });

        //canvas.Scene.new({
        //    name: "MyScene",
        //    events: ["load"],
        //    ready: function (stage) {
        //        CE.connectServer('http://127.0.0.1', 1221);
        //        CE.io.emit("start");
        //    },
        //    load: function (text) {
        //        console.log(text);
        //    }
        //});

        var ctx = document.getElementById("ctx").getContext("2d");
        ctx.font = '30px Arial';

        var socket = io.connect('http://192.168.0.104:1221');
        //var socket = io.connect('o', 1221);

        socket.on('newPos', function (data) {
            ctx.clearRect(0, 0, 500, 500);
            for (var i = 0; i < data.length; i++)
            {
                ctx.fillText(data[i].num, data[i].x, data[i].y);
            }
        });

    </script>
</body>
</html>
